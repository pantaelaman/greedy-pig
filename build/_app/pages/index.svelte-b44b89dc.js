import{S as O,i as q,s as C,l as W,g as v,p as _,q as z,r as p,d as E,o as M,x as k,y as b,z as w,C as d,n as y}from"../chunks/index-eea98cb7.js";import N from"./Welcome.svelte-c861caf3.js";import U from"./Rules.svelte-4dc86890.js";import j from"./Game.svelte-14bd889a.js";import A from"./GameOver.svelte-313c6762.js";import{reset as B}from"./Player.svelte-54160cd7.js";import"./Die.svelte-8d8d3b5f.js";function D(l){let r,n;return r=new A({props:{winner:l[2],score:l[3],multiple:l[4]}}),r.$on("playagain",l[6]),{c(){k(r.$$.fragment)},l(e){b(r.$$.fragment,e)},m(e,o){w(r,e,o),n=!0},p(e,o){const s={};o&4&&(s.winner=e[2]),o&8&&(s.score=e[3]),o&16&&(s.multiple=e[4]),r.$set(s)},i(e){n||(p(r.$$.fragment,e),n=!0)},o(e){_(r.$$.fragment,e),n=!1},d(e){d(r,e)}}}function F(l){let r,n;return r=new j({}),r.$on("gameover",l[5]),{c(){k(r.$$.fragment)},l(e){b(r.$$.fragment,e)},m(e,o){w(r,e,o),n=!0},p:y,i(e){n||(p(r.$$.fragment,e),n=!0)},o(e){_(r.$$.fragment,e),n=!1},d(e){d(r,e)}}}function H(l){let r,n;return r=new U({}),r.$on("back",l[9]),{c(){k(r.$$.fragment)},l(e){b(r.$$.fragment,e)},m(e,o){w(r,e,o),n=!0},p:y,i(e){n||(p(r.$$.fragment,e),n=!0)},o(e){_(r.$$.fragment,e),n=!1},d(e){d(r,e)}}}function I(l){let r,n;return r=new N({}),r.$on("startgame",l[7]),r.$on("showrules",l[8]),{c(){k(r.$$.fragment)},l(e){b(r.$$.fragment,e)},m(e,o){w(r,e,o),n=!0},p:y,i(e){n||(p(r.$$.fragment,e),n=!0)},o(e){_(r.$$.fragment,e),n=!1},d(e){d(r,e)}}}function J(l){let r,n,e,o;const s=[I,H,F,D],f=[];function m(t,a){return t[1]==t[0].Welcome?0:t[1]==t[0].Rules?1:t[1]==t[0].Game?2:t[1]==t[0].GameOver?3:-1}return~(r=m(l))&&(n=f[r]=s[r](l)),{c(){n&&n.c(),e=W()},l(t){n&&n.l(t),e=W()},m(t,a){~r&&f[r].m(t,a),v(t,e,a),o=!0},p(t,[a]){let g=r;r=m(t),r===g?~r&&f[r].p(t,a):(n&&(M(),_(f[g],1,1,()=>{f[g]=null}),z()),~r?(n=f[r],n?n.p(t,a):(n=f[r]=s[r](t),n.c()),p(n,1),n.m(e.parentNode,e)):n=null)},i(t){o||(p(n),o=!0)},o(t){_(n),o=!1},d(t){~r&&f[r].d(t),t&&E(e)}}}function K(l,r,n){var e;(function(u){u[u.Welcome=0]="Welcome",u[u.Rules=1]="Rules",u[u.Game=2]="Game",u[u.GameOver=3]="GameOver"})(e||(e={}));let o=e.Welcome,s="Unknown",f=0,m=!1;function t(u){let i=[],h=-1;u.detail.scores.forEach((c,$)=>{c>h?(i=[$],h=c):c==h&&i.push($)});let G=i.length;n(4,m=G>1),m?G==2?n(2,s=`Players ${i[0]+1} and ${i[1]+1}`):n(2,s=i.reduce((c,$,R)=>(console.log(c),R!=G-1?c+`${$+1}, `:c+`and ${$+1}`),"Players ")):n(2,s=`Player ${i[0]+1}`),n(3,f=h),console.log(`Score: ${f}, Multiple?: ${m}, Winner(s): ${s}`),n(1,o=e.GameOver)}function a(){B(),n(1,o=e.Game)}return[e,o,s,f,m,t,a,()=>{n(1,o=e.Game)},()=>{n(1,o=e.Rules)},()=>{n(1,o=e.Welcome)}]}class x extends O{constructor(r){super();q(this,r,K,J,C,{})}}export{x as default};
